# MPM å®Œæ•´æ‰‹å†Œ

> **ä»"èŠå¤©"åˆ°"å¯æ§äº¤ä»˜"**

ä¸­æ–‡ | [English](MANUAL_EN.md)

---

## ç›®å½•

1. [æ ¸å¿ƒæ¦‚å¿µ](#1-æ ¸å¿ƒæ¦‚å¿µ)
2. [å·¥å…·è¯¦è§£](#2-å·¥å…·è¯¦è§£)
3. [æœ€ä½³å®è·µ](#3-æœ€ä½³å®è·µ)
4. [æ•ˆèƒ½å¯¹æ¯”](#4-æ•ˆèƒ½å¯¹æ¯”)
5. [FAQ](#5-faq)

---

## 1. æ ¸å¿ƒæ¦‚å¿µ

### 1.1 MPM è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ

AI ç¼–ç¨‹çš„ä¸‰å¤§ç—›ç‚¹ï¼š

| ç—›ç‚¹ | è¡¨ç° | MPM æ–¹æ¡ˆ |
|------|------|---------|
| **ä¸Šä¸‹æ–‡è¿·å¤±** | AI ä¸çŸ¥é“ä»£ç åœ¨å“ª | `code_search` AST ç²¾ç¡®å®šä½ |
| **ç›²ç›®ä¿®æ”¹** | æ”¹äº†è¿™é‡Œï¼Œæ¼äº†é‚£é‡Œ | `code_impact` è°ƒç”¨é“¾åˆ†æ |
| **è®°å¿†æµå¤±** | æ¯æ¬¡å¯¹è¯ä»é›¶å¼€å§‹ | `memo` + `system_recall` |

### 1.2 ä¸‰å±‚æ¶æ„

```
æ„ŸçŸ¥å±‚          è°ƒåº¦å±‚          è®°å¿†å±‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
code_search     manager_analyze   memo
code_impact     task_chain        system_recall
project_map     index_status      known_facts
flow_trace
```

- **æ„ŸçŸ¥å±‚**ï¼šçœ‹ä»£ç ï¼ˆå®šä½ã€åˆ†æã€åœ°å›¾ï¼‰
- **è°ƒåº¦å±‚**ï¼šç®¡ä»»åŠ¡ï¼ˆè§„åˆ’ã€æ‰§è¡Œã€æ–­ç‚¹ï¼‰
- **è®°å¿†å±‚**ï¼šå­˜ç»éªŒï¼ˆå¤‡å¿˜ã€å¬å›ã€é“å¾‹ï¼‰

### 1.3 AST ç´¢å¼•åŸç†

MPM ä½¿ç”¨ Rust AST å¼•æ“è§£æä»£ç ï¼Œç»´æŠ¤ä¸‰ä¸ªæ ¸å¿ƒå­—æ®µï¼š

| å­—æ®µ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `canonical_id` | å…¨å±€å”¯ä¸€æ ‡è¯† | `func:core/auth.go::Login` |
| `scope_path` | å±‚çº§ä½œç”¨åŸŸ | `AuthManager::Login` |
| `callee_id` | ç²¾ç¡®è°ƒç”¨é“¾ | `func:db/query.go::Exec` |

**ä¸ºä»€ä¹ˆé‡è¦**ï¼šæ¶ˆé™¤äº†"åŒåå‡½æ•°"æ­§ä¹‰ï¼Œ`code_impact` å¯ä»¥ç²¾ç¡®è¿½è¸ªå¤šå±‚è°ƒç”¨é“¾ã€‚

---

## 2. å·¥å…·è¯¦è§£

### 2.1 ä»£ç å®šä½ï¼ˆ4ä¸ªï¼‰

#### project_map - é¡¹ç›®åœ°å›¾

**è§¦å‘è¯**ï¼š`mpm åœ°å›¾`ã€`mpm ç»“æ„`

**ç”¨é€”**ï¼šæ¥æ‰‹æ–°é¡¹ç›®æ—¶çš„ç¬¬ä¸€æ­¥ï¼Œå¿«é€Ÿå»ºç«‹è®¤çŸ¥ã€‚

**å‚æ•°**ï¼š
| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `scope` | ç›®å½•èŒƒå›´ | æ•´ä¸ªé¡¹ç›® |
| `level` | `structure`(ç›®å½•) / `symbols`(ç¬¦å·) | `symbols` |

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
ğŸ“Š é¡¹ç›®ç»Ÿè®¡: 156 æ–‡ä»¶, 892 ç¬¦å·

ğŸ”´ é«˜å¤æ‚åº¦çƒ­ç‚¹:
  - SessionManager::Handle (Score: 85)
  - PaymentService::Process (Score: 72)

ğŸ“ src/core/ (12 æ–‡ä»¶)
  â”œâ”€â”€ session.go
  â”‚   â””â”€â”€ func GetSession (L45-80) ğŸ”´
  â””â”€â”€ config.go
      â””â”€â”€ func LoadConfig (L20-40) ğŸŸ¢
```

---

#### code_search - ç¬¦å·å®šä½

**è§¦å‘è¯**ï¼š`mpm æœç´¢`ã€`mpm å®šä½`

**ç”¨é€”**ï¼šç²¾ç¡®å®šä½å‡½æ•°/ç±»å®šä¹‰ï¼Œä¸é å­—ç¬¦ä¸²çŒœæµ‹ã€‚

**å‚æ•°**ï¼š
| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `query` | æœç´¢å…³é”®è¯ | å¿…å¡« |
| `scope` | ç›®å½•èŒƒå›´ | æ•´ä¸ªé¡¹ç›® |
| `search_type` | `any`/`function`/`class` | `any` |

**5å±‚é™çº§æœç´¢**ï¼š
```
1. ç²¾ç¡®åŒ¹é… (exact)
2. å‰ç¼€/åç¼€åŒ¹é… (prefix/suffix)
3. å­ä¸²åŒ¹é… (substring)
4. ç¼–è¾‘è·ç¦» (levenshtein)
5. è¯æ ¹åŒ¹é… (stem)
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
âœ… ç²¾ç¡®å®šä¹‰ (exact):
  func Login @ src/auth/login.go L45-67
  ç­¾å: func Login(ctx context.Context, cred Credentials) (*Token, error)

ğŸ” ç›¸ä¼¼ç¬¦å·:
  [func] LoginUser @ src/api/user.go (score: 0.85)
```

---

#### code_impact - å½±å“åˆ†æ

**è§¦å‘è¯**ï¼š`mpm å½±å“`ã€`mpm ä¾èµ–`

**ç”¨é€”**ï¼š**ä¿®æ”¹å‰å¿…åš**ï¼Œè¯„ä¼°å½±å“èŒƒå›´ã€‚

**å‚æ•°**ï¼š
| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `symbol_name` | ç¬¦å·å | å¿…å¡« |
| `direction` | `backward`(è°è°ƒç”¨æˆ‘)/`forward`(æˆ‘è°ƒç”¨è°)/`both` | `backward` |

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
CODE_IMPACT_REPORT: GetSession
RISK_LEVEL: high
AFFECTED_NODES: 15

#### POLLUTION_PROPAGATION_GRAPH
LAYER_1_DIRECT (4):
  - [api/handler.go:45-80] SYMBOL: HandleRequest
  - [service/auth.go:100-130] SYMBOL: Authenticate

LAYER_2_INDIRECT (11):
  - [main.go:50-100] SYMBOL: main
  ... and 9 more

#### ACTION_REQUIRED_CHECKLIST
- [ ] MODIFY_TARGET: [core/session.go:45-80]
- [ ] VERIFY_CALLER: [api/handler.go:45-80]
- [ ] VERIFY_CALLER: [service/auth.go:100-130]
```

---

#### flow_trace - ä¸šåŠ¡æµç¨‹è¿½è¸ª

**è§¦å‘è¯**ï¼š`mpm æµç¨‹`ã€`mpm flow`

**ç”¨é€”**ï¼šè¯»å–â€œå…¥å£-ä¸Šæ¸¸-ä¸‹æ¸¸â€ä¸šåŠ¡ä¸»é“¾ï¼Œæ¯” `code_impact` æ›´åæµç¨‹ç†è§£ã€‚

**å‚æ•°**ï¼š
| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `symbol_name` / `file_path` | äºŒé€‰ä¸€ï¼ˆåŒæ—¶æä¾›æ—¶ä¼˜å…ˆ symbolï¼‰ | - |
| `scope` | é™å®šèŒƒå›´ï¼ˆå¤§ä»“å»ºè®®å¿…å¡«ï¼‰ | ç©º |
| `direction` | `backward` / `forward` / `both` | `both` |
| `mode` | `brief` / `standard` / `deep`ï¼ˆæ¸è¿›æŠ«éœ²ï¼‰ | `brief` |
| `max_nodes` | è¾“å‡ºèŠ‚ç‚¹é¢„ç®—ä¸Šé™ | `40` |

**è¾“å‡ºé‡ç‚¹**ï¼š
- å…¥å£ç‚¹ä¸ä½ç½®
- ä¸Šä¸‹æ¸¸å…³é”®èŠ‚ç‚¹
- å…³é”®è·¯å¾„ Top3
- é˜¶æ®µæ‘˜è¦ / å‰¯ä½œç”¨ï¼ˆstandard/deepï¼‰
- æˆªæ–­æç¤ºï¼ˆé¿å… LLM è¢«è¶…å¤§è¾“å‡ºæ·¹æ²¡ï¼‰

---

### 2.2 ä»»åŠ¡ç®¡ç†ï¼ˆ4ä¸ªï¼‰

#### manager_analyze - ä»»åŠ¡æƒ…æŠ¥ç®€æŠ¥

**è§¦å‘è¯**ï¼š`mpm åˆ†æ`ã€`mpm mg`

**ç”¨é€”**ï¼šå¤æ‚ä»»åŠ¡å¯åŠ¨å…¥å£ï¼Œä¸¤æ­¥è‡ªè¿­ä»£ç”Ÿæˆæƒ…æŠ¥ç®€æŠ¥ã€‚

**å‚æ•°**ï¼š
| å‚æ•° | è¯´æ˜ | å¿…å¡« |
|------|------|------|
| `task_description` | åŸå§‹ä»»åŠ¡æè¿° | âœ… |
| `intent` | `DEBUG`/`DEVELOP`/`REFACTOR`/`RESEARCH` | âœ… |
| `symbols` | ç›¸å…³ç¬¦å·åˆ—è¡¨ | âœ… |
| `step` | 1=åˆ†æ, 2=ç”Ÿæˆç­–ç•¥ | é»˜è®¤1 |

**ä¸¤æ­¥æµç¨‹**ï¼š
```
Step 1: åˆ†æ
  â†’ AST æœç´¢å®šä½ç¬¦å·
  â†’ åŠ è½½å†å²ç»éªŒ
  â†’ å¤æ‚åº¦è¯„ä¼°
  â†’ è¿”å› task_id

Step 2: ç”Ÿæˆç­–ç•¥
  â†’ åŸºäºåˆ†æç»“æœåŠ¨æ€ç”Ÿæˆæˆ˜æœ¯å»ºè®®
  â†’ è¿”å› strategic_handoff
```

---

#### task_chain çº¿æ€§æ¨¡å¼ - è‡ªé€‚åº”ä»»åŠ¡é“¾

**è§¦å‘è¯**ï¼š`mpm ä»»åŠ¡é“¾`ã€`mpm chain`

**ç”¨é€”**ï¼šä¸€ä¸ªè¿‘ä¹å®Œå¤‡çš„ **Agent æ¡†æ¶**ï¼Œæ¯ä¸ªæ­¥éª¤éƒ½æ˜¯ç‹¬ç«‹æ£€æŸ¥ç‚¹ï¼Œå¯åŠ¨æ€è°ƒæ•´è®¡åˆ’ã€‚

**æ ¸å¿ƒèƒ½åŠ›**ï¼š

| æ¨¡å¼ | è¯´æ˜ | å‚æ•° |
|------|------|------|
| `step` | åˆå§‹åŒ– + è‡ªåŠ¨å¼€å§‹ç¬¬ä¸€æ­¥ | `task_id`, `plan`, `description` |
| `start` | å¼€å§‹æŒ‡å®šæ­¥éª¤ | `task_id`, `step_number` |
| `complete` | å®Œæˆæ­¥éª¤ + **å¼ºåˆ¶æäº¤ summary** | `task_id`, `step_number`, `summary` |
| `insert` | æ’å…¥æ­¥éª¤ï¼ˆå°æ•°ç¼–å· 1.1, 1.2ï¼‰ | `task_id`, `after`, `insert_plan` |
| `update` | æ›¿æ¢åç»­æ­¥éª¤ï¼ˆé‡æ–°è§„åˆ’ï¼‰ | `task_id`, `from`, `update_plan` |
| `delete` | åˆ é™¤æ­¥éª¤ï¼ˆå•ä¸ªæˆ–å…¨éƒ¨å‰©ä½™ï¼‰ | `task_id`, `step_to_delete` æˆ– `delete_scope="remaining"` |
| `finish` | æå‰ç»“æŸï¼ˆç›®çš„å·²è¾¾ï¼‰ | `task_id` |

**å¦‚ä½•é€‰æ‹©æ¨¡å¼ï¼ˆæœ€å…³é”®çš„åˆ†æµè§„åˆ™ï¼‰**ï¼š

| ç›®æ ‡ | ç”¨æ³•è¦ç‚¹ | å…³é”®å‚æ•° |
|------|----------|----------|
| ç”¨â€œæ­¥éª¤åˆ—è¡¨â€æ¨è¿›ï¼Œå¯æ’å…¥/æ›¿æ¢/åˆ é™¤åç»­è®¡åˆ’ | ç”¨çº¿æ€§æ¨¡å¼ï¼ˆæœ¬èŠ‚ï¼‰ | æ¨è¿›é  `step_number`ï¼›å¯ç”¨ `insert/update/delete` |
| ç”¨â€œåè®®é˜¶æ®µâ€æ¨è¿›ï¼ˆå¸¦ gate/loop/å­ä»»åŠ¡ï¼‰ | ç”¨åè®®æ¨¡å¼ï¼ˆä¸‹èŠ‚ï¼‰ | åˆå§‹åŒ– `mode=init` + `protocol=...`ï¼›æ¨è¿›é  `phase_id`ï¼›gate å®Œæˆéœ€ `result=pass|fail` |

**å¿«é€Ÿåˆ¤æ–­**ï¼šåŒæ ·æ˜¯ `mode="start"/"complete"`ï¼Œä¼ çš„æ˜¯ `step_number` å°±æ˜¯çº¿æ€§æ¨¡å¼ï¼›ä¼ çš„æ˜¯ `phase_id` å°±æ˜¯åè®®æ¨¡å¼ã€‚

**ä¸ç¡®å®šå½“å‰é“¾æ˜¯ä»€ä¹ˆ**ï¼šå…ˆ `task_chain(mode="status", task_id="...")`ï¼ŒæŒ‰è¾“å‡ºé‡Œçš„ä¸‹ä¸€æ­¥æç¤ºå¡« `step_number` æˆ– `phase_id`ã€‚

**å†³ç­–ç‚¹æœºåˆ¶**ï¼š

æ¯ä¸ªæ­¥éª¤å®Œæˆåï¼Œç³»ç»Ÿè¿”å›å†³ç­–ç•Œé¢ï¼š

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                ã€Step 1.0 å·²å®Œæˆã€‘æœç´¢ç¬¦å·
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

**Summary**: æ‰¾åˆ° 3 ä¸ª Login ç›¸å…³å‡½æ•°...

---

## ğŸ¤” å†³ç­–æ—¶é—´

1ï¸âƒ£ **ç»§ç»­ä¸‹ä¸€æ­¥** (Step 2.0)
   task_chain(mode="start", task_id="MIGRATION", step_number=2.0)

2ï¸âƒ£ **æ’å…¥æ–°æ­¥éª¤**ï¼ˆåœ¨ Step 1.0 ä¹‹åï¼‰
   task_chain(mode="insert", task_id="MIGRATION", after=1.0, insert_plan=[...])

3ï¸âƒ£ **åˆ é™¤å‰©ä½™æ­¥éª¤**ï¼ˆå‘ç°ç›®çš„å·²è¾¾åˆ°ï¼‰
   task_chain(mode="delete", task_id="MIGRATION", delete_scope="remaining")
```

**ç¤ºä¾‹**ï¼š
```javascript
// åˆå§‹åŒ–
task_chain(mode="step", task_id="MIGRATION", description="è¿ç§»æ—¥å¿—æ¡†æ¶", plan=[
  {"name": "æœç´¢æ‰€æœ‰ log4j è°ƒç”¨", "input": "code_search(query='log4j')"},
  {"name": "è¿ç§» core æ¨¡å—"},
  {"name": "è¿ç§» api æ¨¡å—"},
  {"name": "è¿è¡Œæµ‹è¯•"}
])

// å‘ç° legacy æ¨¡å—æœ‰ç‰¹æ®Šæ ¼å¼ï¼ŒåŠ¨æ€æ’å…¥
task_chain(mode="insert", task_id="MIGRATION", after=1.0, insert_plan=[
  {"name": "å¤„ç† legacy æ¨¡å—ç‰¹æ®Šæ ¼å¼"}
])
// â†’ ç”Ÿæˆ Step 1.1

// å‘ç°æµ‹è¯•å·²é€šè¿‡ï¼Œæå‰ç»“æŸ
task_chain(mode="delete", task_id="MIGRATION", delete_scope="remaining")
// â†’ åˆ é™¤æ‰€æœ‰æœªå®Œæˆæ­¥éª¤ï¼Œä¿ç•™æ‰§è¡Œå†å²
```

**ä¸ºä»€ä¹ˆæ¯”æ™®é€š Todo å¼º**ï¼š
- **çŠ¶æ€æœºé©±åŠ¨**ï¼š`todo â†’ in_progress â†’ complete`
- **å¼ºåˆ¶æ€»ç»“**ï¼šæ¯æ­¥å¿…é¡»æäº¤ summaryï¼Œæ²‰æ·€çŸ¥è¯†
- **åŠ¨æ€è§„åˆ’**ï¼šéšæ—¶æ’å…¥/åˆ é™¤/æ›¿æ¢æ­¥éª¤
- **æ™ºèƒ½ç»ˆæ­¢**ï¼šç›®çš„è¾¾åˆ°å³å¯æå‰ç»“æŸ

---

#### task_chain åè®®æ¨¡å¼ - åè®®çŠ¶æ€æœº

**ç”¨é€”**ï¼šå¤§å·¥ç¨‹ä¸“ç”¨ï¼Œç”¨é¢„å®šä¹‰åè®®é©±åŠ¨å¤šé˜¶æ®µä»»åŠ¡ï¼Œå†…ç½® Gate é—¨æ§ã€Loop å­ä»»åŠ¡ã€è‡ªå®¡å‡çº§æœºåˆ¶ã€‚

**ä¸‰ç§é˜¶æ®µç±»å‹**ï¼š

| ç±»å‹ | è¯´æ˜ |
|------|------|
| `execute` | æ™®é€šæ‰§è¡Œé˜¶æ®µï¼Œå®Œæˆåè¿›å…¥ä¸‹ä¸€é˜¶æ®µ |
| `gate` | é—¨æ§æ£€æŸ¥ç‚¹ï¼Œpass/fail è·¯ç”±ï¼Œæ”¯æŒæœ€å¤§é‡è¯•æ¬¡æ•° |
| `loop` | å¾ªç¯é˜¶æ®µï¼ŒåŠ¨æ€ç”Ÿæˆå­ä»»åŠ¡åˆ—è¡¨é€ä¸ªæ‰§è¡Œ |

**å†…ç½®åè®®**ï¼š

| åè®® | æµç¨‹ | é€‚ç”¨åœºæ™¯ |
|------|------|---------|
| `linear` | main | ç®€å•çº¿æ€§ä»»åŠ¡ |
| `develop` | analyze â†’ plan_gate â†’ implement(loop) â†’ verify_gate â†’ finalize | è·¨æ¨¡å—å¼€å‘ |
| `debug` | reproduce â†’ locate â†’ fix(loop) â†’ verify_gate â†’ finalize | é—®é¢˜æ’æŸ¥ |
| `refactor` | baseline â†’ analyze â†’ refactor(loop) â†’ verify_gate â†’ finalize | å¤§èŒƒå›´é‡æ„ |

**åè®®æ¨¡å¼ä¸“å±æ“ä½œ**ï¼š

| æ¨¡å¼ | è¯´æ˜ | å‚æ•° |
|------|------|------|
| `init` | åˆå§‹åŒ–åè®®é“¾ | `task_id`, `protocol`, `description`ï¼ˆæˆ– `phases` æ‰‹åŠ¨å®šä¹‰ï¼‰ |
| `start` | å¼€å§‹é˜¶æ®µ | `task_id`, `phase_id` |
| `complete` | å®Œæˆé˜¶æ®µ | `task_id`, `phase_id`, `summary`ï¼ˆgate éœ€åŠ  `result=pass\|fail`ï¼‰ |
| `spawn` | åœ¨ loop é˜¶æ®µç”Ÿæˆå­ä»»åŠ¡ | `task_id`, `phase_id`, `sub_tasks` |
| `complete_sub` | å®Œæˆå­ä»»åŠ¡ | `task_id`, `phase_id`, `sub_id`, `summary`, `result` |
| `resume` | è·¨ä¼šè¯æ¢å¤ | `task_id` |
| `status` | æŸ¥çœ‹å½“å‰çŠ¶æ€ | `task_id` |
| `protocol` | åˆ—å‡ºå¯ç”¨åè®® | - |

**å…¸å‹ç”¨æ³•**ï¼š
```javascript
// åˆå§‹åŒ– develop åè®®
task_chain(mode="init", task_id="PROJ_001", protocol="develop", description="é‡æ„æ ¸å¿ƒæ¨¡å—")

// å®Œæˆ analyze é˜¶æ®µ
task_chain(mode="complete", task_id="PROJ_001", phase_id="analyze", summary="æ‹†è§£ä¸º3ä¸ªå­ä»»åŠ¡")

// gate é€šè¿‡
task_chain(mode="complete", task_id="PROJ_001", phase_id="plan_gate", result="pass", summary="æ‹†è§£å……åˆ†")

// loop é˜¶æ®µç”Ÿæˆå­ä»»åŠ¡
task_chain(mode="spawn", task_id="PROJ_001", phase_id="implement", sub_tasks=[
  {"name": "é‡æ„ SessionManager", "verify": "go test ./core/..."},
  {"name": "é‡æ„ MemoryLayer"}
])

// å®Œæˆå­ä»»åŠ¡
task_chain(mode="complete_sub", task_id="PROJ_001", phase_id="implement", sub_id="sub_001", result="pass", summary="å®Œæˆ")
```

**è‡ªå®¡æœºåˆ¶**ï¼š

æ¯ä¸ªé˜¶æ®µå®Œæˆåï¼Œå·¥å…·è‡ªåŠ¨è¾“å‡ºè‡ªå®¡æç¤ºï¼Œå¼•å¯¼ LLM åˆ¤æ–­æ–¹å‘ï¼š

```
ğŸ” è‡ªå®¡ï¼šå½“å‰å‘ç°æ˜¯å¦ä¸åˆå§‹ç›®æ ‡ä¸€è‡´ï¼Ÿ
  â€¢ ä¸€åˆ‡æ­£å¸¸ â†’ ç»§ç»­æ‰§è¡Œä¸‹ä¸€é˜¶æ®µ
  â€¢ å‘ç°é‡å¤§åå·®ï¼Œä¿¡æ¯è¶³å¤Ÿ â†’ é‡æ–° initï¼ˆè¦†ç›–å½“å‰é“¾ï¼‰
  â€¢ å‘ç°é‡å¤§åå·®ï¼Œä¿¡æ¯ä¸è¶³ â†’ å…ˆè°ƒå·¥å…·è¡¥å……ä¿¡æ¯ï¼Œå†å†³å®šæ˜¯å¦ re-init
```

**ä¸‰çº§å‡çº§æœºåˆ¶**ï¼ˆå·¥å…·å¼ºåˆ¶æ‰§è¡Œï¼Œéä»…æç¤ºè¯ï¼‰ï¼š

| æ¬¡æ•° | è¡Œä¸º |
|------|------|
| ç¬¬ 0 æ¬¡ | æ­£å¸¸æ‰§è¡Œ |
| ç¬¬ 1 æ¬¡ re-init | å·¥å…·æ”¾è¡Œï¼Œé‡ç½®é“¾ |
| ç¬¬ 2 æ¬¡ re-init | å·¥å…·ç¡¬æ‹¦ï¼Œå¼ºåˆ¶åœä¸‹è¯¢é—®ç”¨æˆ· |

`ReinitCount` æŒä¹…åŒ–åˆ° DBï¼Œè·¨ä¼šè¯æ¢å¤åæ‹¦æˆªé€»è¾‘ä¾ç„¶æœ‰æ•ˆã€‚

---

#### Hook ç³»åˆ—ï¼ˆ3ä¸ªï¼‰

| å·¥å…· | è§¦å‘è¯ | ç”¨é€” |
|------|--------|------|
| `manager_create_hook` | `mpm æŒ‚èµ·` | åˆ›å»ºå¾…åŠ/æ–­ç‚¹ |
| `manager_list_hooks` | `mpm å¾…åŠåˆ—è¡¨` | æŸ¥çœ‹å¾…åŠ |
| `manager_release_hook` | `mpm é‡Šæ”¾` | å®Œæˆå¾…åŠ |

**Hook ç‰¹æ€§**ï¼šæ”¯æŒ `expires_in_hours` è¿‡æœŸæ—¶é—´ã€‚

---

### 2.3 è®°å¿†ç³»ç»Ÿï¼ˆ3ä¸ªï¼‰

#### memo - å˜æ›´å¤‡å¿˜å½•

**è§¦å‘è¯**ï¼š`mpm è®°å½•`ã€`mpm memo`

**ç”¨é€”**ï¼š**ä»»ä½•ä»£ç ä¿®æ”¹åå¿…è°ƒç”¨**ï¼Œè®°å½•"ä¸ºä»€ä¹ˆæ”¹"ã€‚

**å‚æ•°**ï¼š
| å­—æ®µ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `category` | åˆ†ç±» | `ä¿®æ”¹`/`å¼€å‘`/`å†³ç­–`/`é¿å‘` |
| `entity` | æ”¹åŠ¨å®ä½“ | `session.go` |
| `act` | è¡Œä¸º | `ä¿®å¤å¹‚ç­‰é—®é¢˜` |
| `path` | æ–‡ä»¶è·¯å¾„ | `core/session.go` |
| `content` | è¯¦ç»†è¯´æ˜ | ä¸ºä»€ä¹ˆè¿™ä¹ˆæ”¹ |

**ç¤ºä¾‹**ï¼š
```javascript
memo(items=[{
  category: "ä¿®å¤",
  entity: "GetSession",
  act: "æ·»åŠ å¹‚ç­‰æ£€æŸ¥",
  path: "core/session.go",
  content: "é˜²æ­¢é‡å¤è¯·æ±‚åˆ›å»ºå¤šä¸ª session"
}])
```

---

#### system_recall - è®°å¿†å¬å›

**è§¦å‘è¯**ï¼š`mpm å†å²`ã€`mpm recall`

**ç”¨é€”**ï¼šæ£€ç´¢è¿‡å»çš„å†³ç­–å’Œä¿®æ”¹ï¼Œ**"å®½è¿›ä¸¥å‡º"** ç­–ç•¥ã€‚

**å‚æ•°**ï¼š
| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `keywords` | å…³é”®è¯ï¼ˆå¤šå­—æ®µæ¨¡ç³ŠåŒ¹é…ï¼‰ | å¿…å¡« |
| `category` | ç±»å‹è¿‡æ»¤ | å…¨éƒ¨ |
| `limit` | è¿”å›æ¡æ•° | 20 |

**å®½è¿›ä¸¥å‡ºç­–ç•¥**ï¼š
- **å®½è¿›**ï¼šåœ¨ `Entity` / `Act` / `Content` å¤šå­—æ®µä¸­ OR åŒ¹é…
- **ä¸¥å‡º**ï¼šé€šè¿‡ `category` è¿‡æ»¤ + `limit` é™åˆ¶
- **ç²¾ç»†è¾“å‡º**ï¼šåˆ†ç±»å±•ç¤ºï¼ˆKnown Facts ä¼˜å…ˆï¼‰+ æ—¶é—´æˆ³ï¼ˆè¿‘â†’è¿œï¼‰

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
## ğŸ“Œ Known Facts (2)

- **[é¿å‘]** ä¿®æ”¹ session é€»è¾‘å‰å¿…é¡»å…ˆæ£€æŸ¥ä¾èµ– _(ID: 1, 2026-01-15)_

## ğŸ“ Memos (3)

- **[42] 2026-02-15 14:30** (ä¿®å¤) æ·»åŠ å¹‚ç­‰æ£€æŸ¥: é˜²æ­¢é‡å¤è¯·æ±‚...
- **[41] 2026-02-14 10:00** (å¼€å‘) æ–°å¢ timeout å‚æ•°: é€‚é…é˜¿é‡Œäº‘...
```

**å…¸å‹ç”¨æ³•**ï¼š
```
system_recall(keywords="session timeout")
  â†’ æ‰¾åˆ°æ‰€æœ‰æ¶‰åŠ session/timeout çš„å†å²è®°å½•

system_recall(keywords="å¹‚ç­‰", category="é¿å‘")
  â†’ åªè¿”å›é¿å‘ç±»è®°å½•
```

---

#### known_facts - é“å¾‹å­˜æ¡£

**è§¦å‘è¯**ï¼š`mpm é“å¾‹`ã€`mpm é¿å‘`

**ç”¨é€”**ï¼šå­˜æ¡£ç»è¿‡éªŒè¯çš„è§„åˆ™ï¼Œ`manager_analyze` ä¼šè‡ªåŠ¨åŠ è½½ã€‚

**ç¤ºä¾‹**ï¼š
```javascript
known_facts(type="é¿å‘", summarize="ä¿®æ”¹ session é€»è¾‘å‰å¿…é¡»å…ˆæ£€æŸ¥ä¾èµ–")
```

---

### 2.4 å¢å¼ºå·¥å…·ï¼ˆ3ä¸ªï¼‰

#### persona - äººæ ¼ç®¡ç†

**è§¦å‘è¯**ï¼š`mpm äººæ ¼`

**è®¾è®¡ç†å¿µ**ï¼šäººæ ¼æ˜¯ **Buff æœºåˆ¶**ï¼Œä¸æ˜¯æŒä¹…é…ç½®ã€‚

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| **ä¸´æ—¶æ€§** | åˆ‡æ¢äººæ ¼ = ä¸´æ—¶åŠ  buffï¼Œç”¨å®Œå³èµ° |
| **ä¸æŒä¹…åŒ–** | ä¸å­˜æ•°æ®åº“ï¼Œä¸è·¨ä¼šè¯ |
| **å¥åº·æŒ‡ç¤º** | äººæ ¼è¡¨ç°æ¨¡ç³Š = ä¸Šä¸‹æ–‡å·²ç¨€é‡Šï¼Œéœ€è¦å¤„ç† |

**ä¸Šä¸‹æ–‡ç¨€é‡Šåˆ¤æ–­**ï¼š

äººæ ¼è¡¨ç°å¼ºåº¦å¯ä½œä¸ºä¸Šä¸‹æ–‡å¥åº·çš„**ä¿¡å·**ï¼š

| äººæ ¼è¡¨ç° | å«ä¹‰ | å»ºè®® |
|---------|------|------|
| é£æ ¼é²œæ˜ | ä¸Šä¸‹æ–‡å¥åº· | ç»§ç»­å½“å‰å¯¹è¯ |
| è¡¨ç°æ¨¡ç³Š | context å·²ç¨€é‡Š | æ–°å¼€å¯¹è¯ / compact / è¾“å…¥æç¤ºè¯æ”¶æ•›æ³¨æ„åŠ› |

**æ“ä½œæ¨¡å¼**ï¼š

| æ¨¡å¼ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `list` | åˆ—å‡ºæ‰€æœ‰äººæ ¼ | `persona(mode="list")` |
| `activate` | æ¿€æ´»äººæ ¼ | `persona(mode="activate", name="zhuge")` |
| `create` | æ–°å¢äººæ ¼ | `persona(mode="create", name="my_expert", ...)` |
| `update` | æ›´æ–°äººæ ¼ | `persona(mode="update", name="my_expert", ...)` |
| `delete` | åˆ é™¤äººæ ¼ | `persona(mode="delete", name="my_expert")` |

**åˆ›å»ºäººæ ¼å‚æ•°**ï¼š
| å‚æ•° | è¯´æ˜ |
|------|------|
| `display_name` | æ˜¾ç¤ºåç§° |
| `hard_directive` | æ ¸å¿ƒæŒ‡ä»¤ |
| `style_must` | å¿…é¡»éµå®ˆçš„é£æ ¼ |
| `style_signature` | æ ‡å¿—æ€§è¡¨è¾¾ |
| `style_taboo` | ç¦ç”¨è¡¨è¾¾ |
| `triggers` | è§¦å‘è¯ |

**å†…ç½®äººæ ¼**ï¼š
| äººæ ¼ | ä»£å· | é£æ ¼å¼ºåº¦ | é€‚ç”¨åœºæ™¯ |
|------|------|---------|---------|
| å­”æ˜ | `zhuge` | ä¸­ | æ¶æ„è®¾è®¡ã€ä»£ç å®¡æŸ¥ |
| æ‡‚ç‹ | `trump` | å¼º | å¤´è„‘é£æš´ã€æ‰“ç ´åƒµå±€ |
| å“†å•¦ | `doraemon` | ä¸­ | æ–°æ‰‹å¼•å¯¼ã€ç¼–å†™æ•™ç¨‹ |
| æŸ¯å— | `detective_conan` | ä¸­ | Bug æ’æŸ¥ã€æ—¥å¿—åˆ†æ |

---

#### skill_load - æŠ€èƒ½åŠ è½½

**è§¦å‘è¯**ï¼š`mpm æŠ€èƒ½`

**ç”¨é€”**ï¼šåŠ è½½é¢†åŸŸä¸“å®¶æŒ‡å—ï¼ˆå¦‚ Refactoringã€Go-expertï¼‰ã€‚

---

#### open_timeline - é¡¹ç›®æ¼”è¿›

**è§¦å‘è¯**ï¼š`mpm æ—¶é—´çº¿`

**ç”¨é€”**ï¼šç”Ÿæˆ HTML å¯è§†åŒ–é¡¹ç›®æ¼”è¿›å†å²ã€‚

---

## 3. æœ€ä½³å®è·µ

### 3.0 å…ˆæ¥ç®¡è§„åˆ™ï¼ˆå¿…é¡»ï¼‰

åˆå§‹åŒ–åï¼Œä¼˜å…ˆå°† `_MPM_PROJECT_RULES.md` æ³¨å…¥ä½ ä½¿ç”¨çš„å®¢æˆ·ç«¯ç³»ç»Ÿè§„åˆ™ï¼Œå†å¼€å§‹ä»»ä½•å¼€å‘ä»»åŠ¡ã€‚

**æœ€å°æ­¥éª¤**ï¼š

1. æ‰§è¡Œ `initialize_project`
2. æ‰“å¼€é¡¹ç›®æ ¹ç›®å½• `_MPM_PROJECT_RULES.md`
3. å°†å…¨æ–‡ç²˜è´´åˆ°å®¢æˆ·ç«¯çš„ç³»ç»Ÿè§„åˆ™åŒºåŸŸ

**å¸¸è§å®¢æˆ·ç«¯æ”¾ç½®ä½ç½®**ï¼ˆä¸åŒç‰ˆæœ¬å‘½åå¯èƒ½ç•¥æœ‰å·®å¼‚ï¼‰ï¼š

| å®¢æˆ·ç«¯ | å»ºè®®æ”¾ç½®ä½ç½® |
|------|-------------|
| Claude Code | System Prompt / Project Instructions |
| OpenCode | System Rules / Workspace Rules |
| Cursor | Rules for AI / Project Rules |

**æ¨èé¦–å¥**ï¼š

`å…ˆè¯»å–å¹¶ä¸¥æ ¼éµå®ˆ _MPM_PROJECT_RULES.mdï¼Œå†æ‰§è¡Œä»»åŠ¡ã€‚`

### 3.1 æ ‡å‡†å·¥ä½œæµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    è§„åˆ’     â”‚ â”€â”€â–¶ â”‚    æ‰§è¡Œ     â”‚ â”€â”€â–¶ â”‚    è®°å½•     â”‚
â”‚ manager_    â”‚     â”‚ ä»£ç ä¿®æ”¹    â”‚     â”‚   memo      â”‚
â”‚ analyze     â”‚     â”‚             â”‚     â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â–²                   â”‚
       â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”           â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚     æ„ŸçŸ¥      â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ code_search   â”‚
                   â”‚ code_impact   â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 é»„é‡‘æ³•åˆ™

| æ³•åˆ™ | è¯´æ˜ |
|------|------|
| **ä¿®æ”¹å‰å¿…å®šä½** | å…ˆ `code_search` å†æ”¹ä»£ç  |
| **å¤§æ”¹åŠ¨å¿…è¯„ä¼°** | å…ˆ `code_impact` çœ‹å½±å“ |
| **å˜æ›´å³è®°å½•** | ä¿®æ”¹åå¿…è°ƒç”¨ `memo` |
| **æ–°å¯¹è¯è¯»æ—¥å¿—** | å…ˆè¯» `dev-log.md` æ¢å¤ä¸Šä¸‹æ–‡ |

### 3.3 ä¿®æ”¹ä»£ç æ ‡å‡†æµç¨‹

```
1. code_search(query="ç›®æ ‡å‡½æ•°")      # å®šä½
2. code_impact(symbol_name="ç›®æ ‡å‡½æ•°") # è¯„ä¼°å½±å“
3. (é˜…è¯»ä»£ç )
4. (æ‰§è¡Œä¿®æ”¹)
5. memo(items=[{...}])                # è®°å½•
```

### 3.4 å‘½åè§„èŒƒï¼ˆVibe Codingï¼‰

**ä¸‰å¤§æ³•åˆ™**ï¼š

1. **ç¬¦å·é”šå®š**ï¼šæ‹’ç»é€šç”¨è¯
   - âŒ `data = get_data()`
   - âœ… `verified_payload = auth_service.fetch_verified_payload()`

2. **å‰ç¼€å³é¢†åŸŸ**ï¼šä½¿ç”¨ `domain_action_target`
   - `ui_btn_submit`ã€`api_req_login`ã€`db_conn_main`

3. **å¯æ£€ç´¢æ€§ä¼˜å…ˆ**ï¼šåå­—è¶Šé•¿ï¼Œå†²çªè¶Šå°‘
   - `transaction_unique_trace_id` æ¯” `id` æ›´æ˜“æœç´¢

---

## 4. æ•ˆèƒ½å¯¹æ¯”

### 4.1 Case 1ï¼šç¬¦å·å®šä½

**ä»»åŠ¡**ï¼šåˆ†æ `memo` å·¥å…·çš„å®ç°é€»è¾‘

| æŒ‡æ ‡ | æ—  MPM | æœ‰ MPM | æå‡ |
|------|--------|--------|------|
| æ­¥éª¤æ•° | 12+ æ­¥ | 3 æ­¥ | **300%** |
| å·¥å…·è°ƒç”¨ | 10+ æ¬¡ | 2 æ¬¡ | **400%** |
| é¦–æ­¥å‘½ä¸­ç‡ | 0% | 100% | **âˆ** |

**åŸå› **ï¼š`manager_analyze` ç›´æ¥è¿”å›ç²¾ç¡®åæ ‡ï¼ˆæ–‡ä»¶:è¡Œå·ï¼‰ï¼Œæ— éœ€åå¤è¯•é”™ã€‚

---

### 4.2 Case 2ï¼šå½±å“è¯„ä¼°

**ä»»åŠ¡**ï¼šè¯„ä¼°ä¿®æ”¹ `session.go` çš„é£é™©

| ç»´åº¦ | æ—  MPM | æœ‰ MPM |
|------|--------|--------|
| é£é™©æ„ŸçŸ¥ | åŸºäºå±€éƒ¨çŒœæµ‹ | **AST è°ƒç”¨é“¾åˆ†æ** |
| Token æ¶ˆè€— | é€šè¯»æ–‡ä»¶ (4000+) | åœ°å›¾æ‘˜è¦ (~800) |
| è¾“å‡º | æ¨¡ç³Šåé—® | **ç²¾ç¡®ä¿®æ”¹æ¸…å•** |

---

### 4.3 Case 3ï¼šé¡¹ç›®è®¤çŸ¥

**ä»»åŠ¡**ï¼šå†·å¯åŠ¨ç†è§£ 300+ æ–‡ä»¶çš„æ–°é¡¹ç›®

| æŒ‡æ ‡ | æ—  MPM | æœ‰ MPM |
|------|--------|--------|
| æ€»è€—æ—¶ | 40 ç§’ | **15 ç§’** |
| å·¥å…·è°ƒç”¨ | 4+ æ¬¡ | 1 æ¬¡ |
| è®¤çŸ¥è·¯å¾„ | é…ç½®â†’æºç â†’æ‹¼è£… | **ç›´è¾¾ç»“æ„åŒ–åœ°å›¾** |

---

### 4.4 Case 4ï¼šç¾éš¾æ¢å¤

**åœºæ™¯**ï¼šè¯¯æ‰§è¡Œ `git reset --hard`ï¼Œä¸¢å¤±ä¸€å¤©æœªæäº¤çš„ä»£ç 

| ç»´åº¦ | Git | MPM æ•°æ®åº“ |
|------|-----|-----------|
| è®°å½•è§¦å‘ | æ˜¾å¼ commit | **ä¿®æ”¹å³ memo** |
| è¦†ç›–èŒƒå›´ | ç‰©ç†æ–‡æœ¬ | **æ„å›¾ + è¯­ä¹‰** |
| æ¢å¤æˆæœ¬ | æ‰‹åŠ¨é‡å†™ | **æŒ‡å¯¼æ€§æ¢å¤** |

**ç»“è®º**ï¼šMPM ä¿æŠ¤çš„æ˜¯å¼€å‘è¿‡ç¨‹ï¼ŒGit ä¿æŠ¤çš„æ˜¯ä»£ç ã€‚

---

## 5. FAQ

### Q1: `initialize_project` ä»€ä¹ˆæ—¶å€™éœ€è¦è°ƒç”¨ï¼Ÿ

**åªåœ¨ä»¥ä¸‹æƒ…å†µ**ï¼š
- é‡å¯äº† MCP Server / IDE
- é¦–æ¬¡ä½¿ç”¨ MPM

**é«˜çº§é€‰é¡¹**ï¼š
- `force_full_index=true`ï¼šå¼ºåˆ¶å…¨é‡ç´¢å¼•ï¼ˆç¦ç”¨å¤§ä»“ bootstrap ç­–ç•¥ï¼‰
- `index_status`ï¼šæŸ¥çœ‹åå°ç´¢å¼•è¿›åº¦/å¿ƒè·³/æ•°æ®åº“ä½“ç§¯

**å¦‚æœåªæ˜¯æ–°å¼€å¯¹è¯**ï¼šç›´æ¥è¯» `dev-log.md` å³å¯ï¼Œæ— éœ€é‡æ–°åˆå§‹åŒ–ã€‚

---

### Q2: `code_search` å’Œ IDE è‡ªå¸¦æœç´¢æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

| ç»´åº¦ | IDE æœç´¢ | `code_search` |
|------|---------|---------------|
| åŒ¹é…æ–¹å¼ | æ–‡æœ¬çº§ | **AST ç¬¦å·çº§** |
| åŒåæ­§ä¹‰ | æ— æ³•åŒºåˆ† | **canonical_id ç²¾ç¡®** |
| ä¸Šä¸‹æ–‡ | éœ€æ‰‹åŠ¨æŸ¥çœ‹ | **è‡ªåŠ¨è¿”å›ç­¾å** |

**å»ºè®®**ï¼šå…ˆç”¨ `code_search` å®šä½ï¼Œå†ç”¨ IDE ç²¾è¯»ã€‚

---

### Q3: DICE å¤æ‚åº¦ç®—æ³•æ˜¯ä»€ä¹ˆï¼Ÿ

åŸºäº **ç²¾ç¡®è°ƒç”¨é“¾** è®¡ç®—å¤æ‚åº¦ï¼š

```
complexity_score = 
    (out_degree Ã— 2.0) +   // Fan-out: è°ƒç”¨äº†å¤šå°‘
    (in_degree Ã— 1.0)      // Fan-in: è¢«å¤šå°‘äººä¾èµ–
```

**è¯„åˆ†ç­‰çº§**ï¼š
| åˆ†æ•° | ç­‰çº§ | å»ºè®® |
|------|------|------|
| 0-20 | Simple | ç›´æ¥ä¿®æ”¹ |
| 20-50 | Medium | å…ˆçœ‹è°ƒç”¨è€… |
| 50-80 | High | å…ˆ `code_impact` |
| 80+ | Extreme | éœ€è¦è¯¦ç»†è§„åˆ’ |

---

### Q4: æ•°æ®å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ

| æ•°æ® | ä½ç½® |
|------|------|
| AST ç´¢å¼• | `.mcp-data/symbols.db` (SQLite) |
| Memos | `.mcp-data/mcp_memory.db` |
| äººç±»å¯è¯»æ—¥å¿— | `dev-log.md` |
| é¡¹ç›®è§„åˆ™ | `_MPM_PROJECT_RULES.md` |

**å»ºè®®**ï¼š`.mcp-data/` åŠ å…¥ `.gitignore`ï¼Œä½† `dev-log.md` å¯æäº¤ã€‚

---

### Q5: æ”¯æŒå“ªäº›è¯­è¨€ï¼Ÿ

| è¯­è¨€ | æ‰©å±•å |
|------|--------|
| Python | .py |
| Go | .go |
| JavaScript/TypeScript | .js, .ts, .tsx, .mjs |
| Rust | .rs |
| Java | .java |
| C/C++ | .c, .cpp, .h, .hpp |

---

## è§¦å‘è¯é€ŸæŸ¥è¡¨

| åˆ†ç±» | è§¦å‘è¯ | å·¥å…· |
|------|--------|------|
| ç³»ç»Ÿ | `mpm åˆå§‹åŒ–` | `initialize_project` |
| ç³»ç»Ÿ | `mpm ç´¢å¼•çŠ¶æ€` `mpm index status` | `index_status` |
| å®šä½ | `mpm æœç´¢` `mpm å®šä½` | `code_search` |
| åˆ†æ | `mpm å½±å“` `mpm ä¾èµ–` | `code_impact` |
| åœ°å›¾ | `mpm åœ°å›¾` `mpm ç»“æ„` | `project_map` |
| æµç¨‹ | `mpm æµç¨‹` `mpm flow` | `flow_trace` |
| ä»»åŠ¡ | `mpm åˆ†æ` `mpm mg` | `manager_analyze` |
| é“¾å¼ | `mpm ä»»åŠ¡é“¾` `mpm chain` | `task_chain` |
| å¾…åŠ | `mpm æŒ‚èµ·` `mpm å¾…åŠåˆ—è¡¨` `mpm é‡Šæ”¾` | Hook ç³»åˆ— |
| è®°å¿† | `mpm è®°å½•` `mpm å†å²` `mpm é“å¾‹` | è®°å¿†ç³»åˆ— |
| äººæ ¼ | `mpm äººæ ¼` | `persona` |
| æŠ€èƒ½ | `mpm æŠ€èƒ½åˆ—è¡¨` `mpm åŠ è½½æŠ€èƒ½` | æŠ€èƒ½ç³»åˆ— |
| å¯è§† | `mpm æ—¶é—´çº¿` | `open_timeline` |

---

*MPM Manual v2.1 - 2026-02*
