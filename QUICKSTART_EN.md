# MPM Quickstart

> Installation and client setup only. For product overview and tool details, see `README_EN.md` and `docs/MANUAL_EN.md`.

## 1. Extract Package

Extract the release archive to any folder, for example:
- Windows: `D:\mpm-windows-amd64\`
- macOS/Linux: `~/mpm-darwin-arm64/` or `~/mpm-linux-amd64/`

Folder structure:
```text
mpm-windows-amd64/
├── mpm-go.exe        # MCP server (main process)
├── ast_indexer.exe   # AST indexer (called by mpm-go)
├── docs/
├── README.md
└── README_EN.md
```

## 2. Configure MCP Client

### Claude Code (Claude Desktop)

Edit config file:
- Windows: `%APPDATA%\Claude\claude_desktop_config.json`
- macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`

```json
{
  "mcpServers": {
    "mpm": {
      "command": "D:/mpm-windows-amd64/mpm-go.exe"
    }
  }
}
```

macOS/Linux example:
```json
{
  "mcpServers": {
    "mpm": {
      "command": "/Users/yourname/mpm-darwin-arm64/mpm-go"
    }
  }
}
```

### Cursor

1. Open Settings -> Features -> Model Context Protocol
2. Click "Add new MCP server"
3. Fill in:
   - Name: `mpm`
   - Command: `D:/mpm-windows-amd64/mpm-go.exe`
4. Save

### Windsurf

1. Open Settings -> MCP
2. Add server:
   - Name: `mpm`
   - Command: `/path/to/mpm-go`

### Other MCP clients

Core config shape:
```json
{
  "mcpServers": {
    "mpm": {
      "command": "/absolute/path/to/mpm-go"
    }
  }
}
```

## 3. Restart Client

Restart your MCP client after saving config.

## 4. Verify

In chat, run:
```text
mpm 初始化
```

If initialization succeeds, setup is correct.

### Important file generated by initialization

`mpm 初始化` generates `_MPM_PROJECT_RULES.md` in your project root.

Why it matters:
- Defines project-level rules (naming, constraints, workflow)
- Helps the LLM follow stable engineering conventions across sessions
- Serves as a fast context-recovery entry point in new chats

Recommended: include `_MPM_PROJECT_RULES.md` in your client rules/context.

## Troubleshooting

**Q: Cannot find ast_indexer?**
A: Ensure `ast_indexer` and `mpm-go` are in the same directory.

**Q: Windows permission error?**
A: Right-click `mpm-go.exe` -> Properties -> Unblock (if shown).

**Q: macOS cannot verify developer?**
A: Run `xattr -cr /path/to/mpm-darwin-arm64/`.
